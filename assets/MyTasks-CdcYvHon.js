import{j as e,S as x}from"./index-DLXa8zyf.js";import{t as o}from"./tasks.service-B7s00J5g.js";import{L as h}from"./Layout-Co0fdUwk.js";import{u as m}from"./useFetch-yFRZITBE.js";import{f as p}from"./index-CmJUnWuT.js";const f=()=>{const{data:s,loading:c,error:a,execute:d}=m(()=>o.getMyTasks());return e.jsx(h,{children:e.jsxs("div",{className:"flex flex-col space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"My Assigned Tasks"}),e.jsx("p",{className:"text-gray-500 mt-1 font-medium",children:"View and track tasks assigned to you or your department."})]}),s&&e.jsxs("div",{className:"bg-blue-600 text-white text-xs font-black px-4 py-2 rounded-full shadow-lg shadow-blue-100",children:[s.length," ",s.length===1?"TASK":"TASKS"]})]}),a&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 rounded-2xl text-sm font-bold animate-pulse",children:[a,e.jsx("button",{onClick:()=>d(),className:"ml-4 underline",children:"Try again"})]}),c&&!s?e.jsx("div",{className:"py-20 flex justify-center",children:e.jsx(x,{size:"lg"})}):s&&s.length>0?e.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50",children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"S.No"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Event Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Task Details"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Assignment Date"}),e.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-50",children:s.map(t=>{var r,i,l,n;return e.jsxs("tr",{className:"hover:bg-blue-50/20 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-sm font-black text-gray-300 group-hover:text-blue-200 transition-colors",children:["#",t.sNo]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:(r=t.event)==null?void 0:r.name}),e.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter",children:((i=t.event)==null?void 0:i.eventDate)&&new Date(t.event.eventDate).toLocaleDateString()})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-extrabold text-blue-600 mb-0.5",children:t.taskName}),e.jsx("p",{className:"text-xs text-gray-500 line-clamp-1 italic",children:t.description})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600 font-medium",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),p(((n=(l=t.assignments)==null?void 0:l[0])==null?void 0:n.assignedAt)||new Date().toISOString())]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{className:"text-xs font-black text-blue-600 hover:text-blue-800 uppercase tracking-wider",children:"Details"})})]},t.id)})})]})})}):e.jsxs("div",{className:"text-center py-32 bg-white rounded-3xl border-2 border-dashed border-gray-100 group",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 group-hover:bg-blue-50 transition-all duration-300",children:e.jsx("svg",{className:"h-8 w-8 text-gray-300 group-hover:text-blue-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("h3",{className:"text-lg font-black text-gray-900 tracking-tight",children:"No tasks assigned yet"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1 italic",children:"When an admin assigns you a task, it will appear here."})]})]})})};export{f as default};
